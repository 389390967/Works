<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>getByClass</title>
    <link rel="shortcut icon" href="../../../img/ico.ico">
    <link rel="stylesheet" href="../../../css/common.css">
    <style>
        li {
            height: 40px;
            background: #fff;
        }
    </style>
</head>

<body>
    <ul id="ul1">
        <li class="box"></li>
        <li class="box-a"></li>
        <li class="box box-a"></li>
        <li class="box-a box-b"></li>
        <li class="box-a box-b box"></li>
        <li></li>
        <li class="box box-a box-b"></li>
    </ul>
    <script>
        function getByClass(oParent, sClass) {
            var aEle = oParent.getElementsByTagName('*');
            var classNames = [];
            var regExpClass = new RegExp(sClass+'?', 'gi');
            var i = 0;

            for (i = 0; i < aEle.length; i++) {

                if (regExpClass.test(aEle[i].className)) {
                    console.log(aEle[i].className);
                    console.log('%c----------分割线----------', 'color:#5CACEE');
                    classNames.push(aEle[i]);
                }
            }
            console.log(classNames)

            return classNames;
        }

        window.onload = function () {
            var oUl = document.getElementById('ul1');
            var aBox = getByClass(oUl, 'box-a');
            var i = 0;

            for (i = 0; i < aBox.length; i++) {
                aBox[i].style.background = '#5CACEE';
            }
        };
    </script>
</body>

</html>