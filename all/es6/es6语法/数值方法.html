<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>ES6数值方法扩展</title>
    <link rel="shortcut icon" href="../../../img/ico.ico">
    <link rel="stylesheet" href="../../../css/common.css">
</head>

<body>
    <h1>ES6数值方法扩展</h1>
    <ul class="note">
        <li>总结</li>
        <li>1、二进制、八进制表示法</li>
        <li>2、Number对象方法扩展：isFinite()、isNaN()、isInteger()、isSateInteger()</li>
        <li>3、Math对象方法扩展：trunc()、sign()、cbrt()、fround()、hypot()</li>
        <li>4、运算符：指数运算符**</li>
    </ul>
    <ul class="note">
        <li>一、二进制、八进制表示方法</li>
        <li>1、二进制：以0b或0B表示</li>
        <li><pre>
    	{
    	    console.log(Number(0b101101));
    	    输出：<em>45</em>

    	    console.log(Number("0b101101"));
    	    输出：<em>45</em>

    	    console.log(0b101101 === 45);
    	    输出：<em>true</em>
    	}
        </pre>
        </li>
        <li>2、八进制：在ES5的严格模式下八进制是不允许使用<span>0</span>前缀的，在ES6中明确使用<span>0o</span>前缀表示。</li>
        <li><pre>
        {
        	console.log(Number(0o123));
        	输出：<em>83</em>

        	console.log(Number('0o123'));
        	输出：<em>83</em>

        	console.log(0o123 === 83);
        	输出：<em>true</em>
        }
        </pre>
        </li>
    </ul>
    <ul class="note">
        <li>二、数值Number对象方法扩展</li>
        <li>1、Number.isFinite()：判断数值是否未有限值</li>
        <li><pre>
         {
             console.log(Number.isFinite(123));
             输出：<em>true</em>

             console.log(Number.isFinite('123'));
             输出：<em>false</em>

             console.log(Number.isFinite(NaN));
             输出：<em>false</em>

             console.log(Number.isFinite(10 / 3));//电脑计算出来的是一个取舍的有限小数3.3333333333333335
             输出：<em>true</em>
         }
        </pre>
        </li>
        <li>2、Number.isNaN()：判断数值是否是NaN</li>
        <li><pre>
        {
            console.log(Number.isNaN(NaN));
            输出：<em>true</em>

            console.log(Number.isNaN(0));
            输出：<em>false</em>
        }
        </pre>
        </li>
        <li>3、Number.isInteger()：判断数值是为整数</li>
        <li><pre>
        {
            console.log(Number.isInteger(123));
            输出：<em>true</em>

            console.log(Number.isInteger(123.00));
            输出：<em>true</em>

            console.log(Number.isInteger(123.01));
            输出：<em>false</em>
        }
        </pre>
        </li>
        <li>4、Number.isSafeInteger()：判断数值是否为安全整数(js能够精确表示的整数范围在-2^53到2^53之间（不含两个端点），超过这个范围，无法精确表示这个值。)</li>
        <li>ES6 引入了Number.MAX_SAFE_INTEGER和Number.MIN_SAFE_INTEGER这两个常量，用来表示这个范围的上下限。</li>
        <li><pre>
        {
            console.log(Math.pow(2, 53));
            输出：<em>9007199254740992</em>

            console.log(Math.pow(-2, 53));
            输出：<em>-9007199254740992</em>

            console.log(9007199254740992);
            输出：<em>9007199254740992</em>

            console.log(9007199254740993);//超出 2 的 53 次方之后，一个数就不精确了
            输出：<em>9007199254740992</em>

            console.log(Math.pow(2, 53) === Math.pow(2, 53) + 1);
            输出：<em>true</em>

            console.log(Number.isSafeInteger(9007199254740992));
            输出：<em>false</em>

            console.log(Number.isSafeInteger(9007199254740991));
            输出：<em>true</em>

            console.log(Number.isSafeInteger(-9007199254740992));
            输出：<em>false</em>

            console.log(Number.isSafeInteger(-9007199254740991));
            输出：<em>true</em>

            console.log(Number.isSafeInteger(3.0));
            输出：<em>true</em>

            console.log(Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER);
            输出：<em>9007199254740991 -9007199254740991</em>
        }
        </pre>
        </li>
    </ul>
    <ul class="note">
        <li>三、Math对象扩展</li>
        <li>1、Math.trunc()：取数值的整数部分</li>
        <li><pre>
    	{
    	    console.log(Math.trunc(123.123));
    	    输出：<em>123</em>

    	    console.log(Math.trunc(456.000));
    	    输出：<em>456</em>

    	    console.log(Math.trunc(0.123));
    	    输出：<em>0</em>

    	    console.log(Math.trunc(-0.123));
    	    输出：<em>-0</em>

    	    console.log(Math.trunc("-1.123"));
    	    输出：<em>-1</em>

    	    console.log(Math.trunc(NaN));
    	    输出：<em>NaN</em>

    	    console.log(Math.trunc("foo"));
    	    输出：<em>NaN</em>

    	    console.log(Math.trunc());
    	    输出：<em>NaN</em>
    	}
    	</pre>
        </li>
        <li>2、Math.sign()：判断数值的类型</li>
        <li class="padding-left-30">
            有五种情况判断， 若参数为非数值，会先转换为数值。<br>
            1、参数为正数，返回+1；<br>
            2、参数为负数，返回-1；<br>
            3、参数为0，返回0；<br>
            4、参数为-0, 返回-0；<br>
            5、参数为其他值，返回NaN。
        </li>
        <li><pre>
        {
            console.log(Math.sign(3));
            输出：<em>1</em>

            console.log(Math.sign(-3));
            输出：<em>-1</em>

            console.log(Math.sign("-3"));
            输出：<em>-1</em>

            console.log(Math.sign(0));
            输出：<em>0</em>

            console.log(Math.sign(-0));
            输出：<em>-0</em>

            console.log(Math.sign(NaN));
            输出：<em>NaN</em>

            console.log(Math.sign("aaa"));
            输出：<em>NaN</em>

            console.log(Math.sign());
            输出：<em>NaN</em>
        }
        </pre>
        </li>
        <li>3、Math.cbrt()：计算数值的立方根</li>
        <li><pre>
        {
            console.log(Math.cbrt(8));
            输出：<em>2</em>

            console.log(Math.cbrt(27));
            输出：<em>3</em>

            console.log(Math.cbrt(Infinity));
            输出：<em>Infinity</em>

            console.log(Math.cbrt(-Infinity));
            输出：<em>-Infinity</em>

            console.log(Math.cbrt(NaN));
            输出：<em>NaN</em>

            console.log(Math.cbrt(null));
            输出：<em>0</em>
        }
        </pre>
        </li>
        <li>4、Math.fround()：将数值转换为单精度浮点值</li>
        <li><pre>
        {
            console.log(Math.fround(0));
            输出：<em>0</em>

            console.log(Math.fround(1));
            输出：<em>1</em>

            console.log(Math.fround(1.337));
            输出：<em>1.3370000123977661</em>

            console.log(Math.fround('1.337'));
            输出：<em>1.3370000123977661</em>

            console.log(Math.fround(1.5));
            输出：<em>1.5</em>

            console.log(Math.fround(NaN));
            输出：<em>NaN</em>
        }
        </pre>
        </li>
        <li>5、Math.hypot()：求所有参数平方和的平方根（<span>求直角三角形斜边长</span>）</li>
        <li><pre>
    	{
    	    console.log(Math.hypot());
    	    输出：<em>0</em>

    	    console.log(Math.hypot(0, 2));
    	    输出：<em>2</em>

    	    console.log(Math.hypot(3, 4));
    	    输出：<em>5</em>

    	    console.log(Math.hypot(3, 4, 5));
    	    输出：<em>7.0710678118654755</em>

    	    console.log(Math.hypot(3, 4, "5"));
    	    输出：<em>7.0710678118654755</em>

    	    console.log(Math.hypot(NaN));
    	    输出：<em>NaN</em>

    	    console.log(Math.hypot(3, 4, "aaa"));
    	    输出：<em>NaN</em>

    	    console.log(Math.hypot(-3)); //<span>the same as Math.abs(-3)</span>
    	    输出：<em>3</em>

    	}
        </pre>
        </li>
    </ul>
    <ul class="note">
        <li>四、运算符</li>
        <li>1、<span>指数</span>运算符<i>**</i></li>
        <li><pre>
    		{
    		    console.log(2 <i>**</i> 4);
    		    输出：<em>16</em>

    		    console.log(3 <i>**</i> 3);
    		    输出：<em>27</em>

    		    let num = 4;
    		    num <i>**</i>= 4;
    		    console.log(num);
    		    输出：<em>256</em>
    		}
    	</pre>
        </li>
    </ul>
    <a class="fixed-right-bottom" href="https://www.jianshu.com/p/bf393951db75" target="_blank">参考博文</a>
    <script>
    //二进制：以0b或0B表示
    {
        console.log(Number(0b101101));
        console.log(Number("0b101101"));
        console.log(0b101101 === 45);
    }
    console.log('----------分割线----------');

    //八进制：在ES5的严格模式下八进制是不允许使用0前缀的，在ES6中明确使用0o前缀表示。
    {
        console.log(Number(0o123));
        console.log(Number('0o123'));
        console.log(0o123 === 83);
    }
    console.log('----------分割线----------');

    //判断数值是否为有限值数值
    {
        console.log(Number.isFinite(123));
        console.log(Number.isFinite('123'));
        console.log(Number.isFinite(NaN));
        console.log(Number.isFinite(10 / 3));
    }
    console.log('----------分割线----------');

    //判断数值是否为NaN
    {
        console.log(Number.isNaN(NaN));
        console.log(Number.isNaN(0));
    }
    console.log('----------分割线----------');

    //判断数值是否为整数
    {
        console.log(Number.isInteger(123));
        console.log(Number.isInteger(123.00));
        console.log(Number.isInteger(123.01));
    }
    console.log('----------分割线----------');

    //判断数值是否为安全整数(js能够精确表示的整数范围在-2^53到2^53之间（不含两个端点），超过这个范围，无法精确表示这个值。)
    {
        console.log(Math.pow(2, 53));
        console.log(Math.pow(-2, 53));
        console.log(9007199254740992);
        console.log(9007199254740993);
        console.log(Math.pow(2, 53) === Math.pow(2, 53) + 1)
        console.log(Number.isSafeInteger(9007199254740992));
        console.log(Number.isSafeInteger(9007199254740991));
        console.log(Number.isSafeInteger(-9007199254740992));
        console.log(Number.isSafeInteger(-9007199254740991));
        console.log(Number.isSafeInteger(3.0));
        console.log(Number.MAX_SAFE_INTEGER, Number.MIN_SAFE_INTEGER);
    }
    console.log('----------分割线----------');

    //取数值的整数部分
    {
        console.log(Math.trunc(123.123));
        console.log(Math.trunc(456.000));
        console.log(Math.trunc(0.123));
        console.log(Math.trunc(-0.123));
        console.log(Math.trunc("-1.123"));
        console.log(Math.trunc(NaN));
        console.log(Math.trunc("foo"));
        console.log(Math.trunc());
    }
    console.log('----------分割线----------');


    //判断数值的类型
    //有五种情况判断， 若参数为非数值，会先转换为数值。
    //1、参数为正数，返回+1；
    //2、参数为负数，返回-1；
    //3、参数为0，返回0；
    //4、参数为-0， 返回-0；
    //5、参数为其他值，返回NaN。
    {
        console.log(Math.sign(3));
        console.log(Math.sign(-3));
        console.log(Math.sign("-3"));
        console.log(Math.sign(0));
        console.log(Math.sign(-0));
        console.log(Math.sign(NaN));
        console.log(Math.sign("aaa"));
        console.log(Math.sign());
    }
    console.log('----------分割线----------');

    //计算数值的立方根
    {
        console.log(Math.cbrt(8));
        console.log(Math.cbrt(27));
        console.log(Math.cbrt(Infinity));
        console.log(Math.cbrt(-Infinity));
        console.log(Math.cbrt(NaN));
        console.log(Math.cbrt(null));
    }
    console.log('----------分割线----------');


    //将数值转换为单精度浮点值
    {
        console.log(Math.fround(0)); // 0
        console.log(Math.fround(1)); // 1
        console.log(Math.fround(1.337)); // 1.3370000123977661
        console.log(Math.fround('1.337')); // 1.3370000123977661
        console.log(Math.fround(1.5)); // 1.5
        console.log(Math.fround(NaN)); // NaN
    }
    console.log('----------分割线----------');

    //求所有参数平方和的平方根 
    {
        console.log(Math.hypot()); // 0
        console.log(Math.hypot(0, 2)); // 4
        console.log(Math.hypot(3, 4)); // 5
        console.log(Math.hypot(3, 4, 5)); // 7.0710678118654755
        console.log(Math.hypot(3, 4, "5")); // 7.0710678118654755
        console.log(Math.hypot(NaN)); // NaN
        console.log(Math.hypot(3, 4, "aaa")); // NaN
        console.log(Math.hypot(-3)); // 3, the same as Math.abs(-3)
    }
    console.log('----------分割线----------');

    //指数运算符**
    {
        console.log(2 ** 4); // 16
        console.log(3 ** 3); // 27

        let num = 4;
        num **= 4;
        console.log(num); // 256
    }
    console.log('----------分割线----------');
    </script>
</body>

</html>